import streamlit as st

# ุฅุนุฏุงุฏุงุช ุงูุตูุญุฉ ูุงูุชุตููู
st.set_page_config(page_title="ุงุฎุชุจุงุฑ ุงูุนููู - ุงูุฃุณุชุงุฐ ุฃุญูุฏ ุญุงุชู ููุฏุฉ", layout="centered")

# ููุณุฉ ุฌูุงููุฉ ููุนููุงู (ุชูุณูู ูุดุจู Replit)
st.markdown("""
    <style>
    .main-header {
        background-color: #6c63ff;
        padding: 30px;
        border-radius: 15px;
        text-align: center;
        color: white;
        margin-bottom: 30px;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }
    .stButton>button {
        width: 100%;
        border-radius: 10px;
        height: 3em;
        background-color: #6c63ff;
        color: white;
    }
    </style>
    <div class="main-header">
        <h1>๐ ุงุฎุชุจุงุฑ ุงูุนููู ุงูุชูุงุนูู</h1>
        <h3>ุฅุนุฏุงุฏ ุงูุฃุณุชุงุฐ: ุฃุญูุฏ ุญุงุชู ููุฏุฉ</h3>
        <p>ุงูุตู ุงูุณุงุฏุณ ุงูุงุจุชุฏุงุฆู - ุงููุตู ุงูุซุงูู</p>
    </div>
""", unsafe_allow_html=True)

# ูุงุฆูุฉ ุงูุฃุณุฆูุฉ (50 ุณุคุงู)
questions = [
    {"question": "1- ุฃู ูู ุงูููุงูุจ ุงูุชุงููุฉ ูู ุงูุฃูุฑุจ ุฅูู ุงูุดูุณุ", "options": ["ุฃ) ุงูุฃุฑุถ", "ุจ) ุงููุฑูุฎ", "ุฌ) ุนุทุงุฑุฏ", "ุฏ) ุงูุฒูุฑุฉ"], "answer": "ุฌ) ุนุทุงุฑุฏ"},
    {"question": "2- ูุง ูู ุงูุนุถู ุงูุฐู ูุถุฎ ุงูุฏู ูู ุฌุณู ุงูุฅูุณุงูุ", "options": ["ุฃ) ุงูุฑุฆุฉ", "ุจ) ุงูููุจ", "ุฌ) ุงููุจุฏ", "ุฏ) ุงููููุฉ"], "answer": "ุจ) ุงูููุจ"},
    {"question": "3- ุฃู ูู ุงูููุงุฏ ุงูุชุงููุฉ ููุนุฏ ูุตุฏุฑุงู ููุทุงูุฉ ุงููุชุฌุฏุฏุฉุ", "options": ["ุฃ) ุงููุญู", "ุจ) ุงูููุท", "ุฌ) ุงูุทุงูุฉ ุงูุดูุณูุฉ", "ุฏ) ุงูุบุงุฒ ุงูุทุจูุนู"], "answer": "ุฌ) ุงูุทุงูุฉ ุงูุดูุณูุฉ"},
    {"question": "4- ูุง ูู ูุญุฏุฉ ููุงุณ ุดุฏุฉ ุงูุชูุงุฑ ุงูููุฑุจุงุฆูุ", "options": ["ุฃ) ูููุช", "ุจ) ุฃูุจูุฑ", "ุฌ) ูุงุช", "ุฏ) ุฃูู"], "answer": "ุจ) ุฃูุจูุฑ"},
    {"question": "5- ูุง ูู ุงูุนุถู ุงููุณุคูู ุนู ุชูููุฉ ุงูุฏู ูู ุฌุณู ุงูุฅูุณุงูุ", "options": ["ุฃ) ุงููุจุฏ", "ุจ) ุงููููุฉ", "ุฌ) ุงูุฑุฆุฉ", "ุฏ) ุงูููุจ"], "answer": "ุจ) ุงููููุฉ"},
    {"question": "6- ูุง ูู ุฃูุจุฑ ุนุถู ูู ุฌุณู ุงูุฅูุณุงูุ", "options": ["ุฃ) ุงููุจุฏ", "ุจ) ุงูุฌูุฏ", "ุฌ) ุงูุฑุฆุฉ", "ุฏ) ุงูููุจ"], "answer": "ุจ) ุงูุฌูุฏ"},
    {"question": "7- ูุง ูู ุงูุบุงุฒ ุงูุฐู ูุชููุณู ููุญุชุงุฌู ุฌุณููุง ููุจูุงุก ุนูู ููุฏ ุงูุญูุงุฉุ", "options": ["ุฃ) ุซุงูู ุฃูุณูุฏ ุงููุฑุจูู", "ุจ) ุงูุฃูุณุฌูู", "ุฌ) ุงูููุชุฑูุฌูู", "ุฏ) ุงููููููู"], "answer": "ุจ) ุงูุฃูุณุฌูู"},
    {"question": "8- ูุง ูู ุฃุตุบุฑ ูุญุฏุฉ ุจูุงุก ูููุงุฆู ุงูุญูุ", "options": ["ุฃ) ุงููุณูุฌ", "ุจ) ุงูุฎููุฉ", "ุฌ) ุงูุนุถู", "ุฏ) ุงููุธุงู"], "answer": "ุจ) ุงูุฎููุฉ"},
    {"question": "9- ุฃู ูู ุงููุงุฆูุงุช ุงูุชุงููุฉ ูุตูุนูุฉ ุงูุทุงูุฉุ", "options": ["ุฃ) ุงูุฅูุณุงู", "ุจ) ุงููุจุงุช", "ุฌ) ุงูุญููุงู", "ุฏ) ุงููุทุฑ"], "answer": "ุจ) ุงููุจุงุช"},
    {"question": "10- ูุง ูู ุนูููุฉ ุตูุน ุงููุจุงุช ููุทุนุงู ุจุงุณุชุฎุฏุงู ุงูุถูุกุ", "options": ["ุฃ) ุงูุชููุณ", "ุจ) ุงูุจูุงุก ุงูุถูุฆู", "ุฌ) ุงููุถู", "ุฏ) ุงูุฅุฎุฑุงุฌ"], "answer": "ุจ) ุงูุจูุงุก ุงูุถูุฆู"},
    # ... ููุงุญุธุฉ: ููุช ุจูุถุน 10 ุฃุณุฆูุฉ ููุง ููุซุงูุ ููููู ุฅุถุงูุฉ ุงูุจููุฉ ุจููุณ ุงูููุท ...
]

# ุงุณุชุฎุฏุงู session_state ูุชุฎุฒูู ุญุงูุฉ ุงูุงุฎุชุจุงุฑ (ุงูุณุคุงู ุงูุญุงูู ูุงูุฏุฑุฌุฉ)
if 'current_question' not in st.session_state:
    st.session_state.current_question = 0
    st.session_state.score = 0
    st.session_state.quiz_finished = False

# ุนุฑุถ ุงููุชุงุฆุฌ ุงูููุงุฆูุฉ ุฅุฐุง ุงูุชูู ุงูุงุฎุชุจุงุฑ
if st.session_state.quiz_finished:
    st.balloons()
    st.success(f"๐ ุงูุชูู ุงูุงุฎุชุจุงุฑ! ุฏุฑุฌุชู ุงูููุงุฆูุฉ ูู: {st.session_state.score} ูู {len(questions)}")
    if st.button("ุฅุนุงุฏุฉ ุงูุงุฎุชุจุงุฑ"):
        st.session_state.current_question = 0
        st.session_state.score = 0
        st.session_state.quiz_finished = False
        st.rerun()
else:
    # ุนุฑุถ ุงูุณุคุงู ุงูุญุงูู
    q_idx = st.session_state.current_question
    q = questions[q_idx]
    
    st.write(f"### ุณุคุงู {q_idx + 1} ูู {len(questions)}")
    st.markdown(f"#### **{q['question']}**")
    
    # ุงุฎุชูุงุฑ ุงูุฅุฌุงุจุฉ
    user_choice = st.radio("ุงุฎุชุฑ ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ:", q["options"], key=f"q_{q_idx}")
    
    if st.button("ุชุฃููุฏ ุงูุฅุฌุงุจุฉ"):
        # ุงูุชุญูู ูู ุงูุฅุฌุงุจุฉ (ููุงุฑู ุฃูู ุญุฑู ูู ุงูุฎูุงุฑ ูุน ุงูุฅุฌุงุจุฉ ุงููุฎุฒูุฉ)
        if user_choice.startswith(q["answer"][0]):
            st.success("โ ุฅุฌุงุจุฉ ุตุญูุญุฉ!")
            st.session_state.score += 1
        else:
            st.error(f"โ ุฅุฌุงุจุฉ ุฎุงุทุฆุฉ. ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ ูู: {q['answer']}")
        
        # ุงูุงูุชูุงู ููุณุคุงู ุงูุชุงูู
        if q_idx + 1 < len(questions):
            st.session_state.current_question += 1
            st.rerun()
        else:
            st.session_state.quiz_finished = True
            st.rerun()

    # ุดุฑูุท ุงูุชูุฏู
    progress = (q_idx) / len(questions)
    st.progress(progress)
